<div id="mapid"></div>

<div leaflet style="position: fixed; bottom: 0; right: 0; top: 0; left:0"
     [leafletOptions]="options"
     [leafletLayers]="layers"
     (leafletMapReady)="onMapReady($event)">
	<div *ngIf="shown" 
	     leafletDraw
	     [leafletDrawOptions]="drawOptions"></div>
</div>

<div class="container-fluid pull-right" style="background: rgba(255,255,255,.7)">
   
    <div class="row">
       <mat-accordion >
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Pages
                    </mat-panel-title>
                    <mat-panel-description>
                        {{currPage}}
                    </mat-panel-description>
                </mat-expansion-panel-header>
                <table>
                    <div *ngFor="let userpage of userPages" style="position:relative; left:4%" data-toggle="buttons">
                        <tr><td><button mat-button color="primary" (click)="setUserPageLayers(userpage)" style="margin-right:3px; margin-bottom:3px;" class="btn btn-secondary pull-left">{{userpage.page}}</button></td></tr>
                    </div>
                </table>
            </mat-expansion-panel>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Layers
                    </mat-panel-title>
                    <mat-panel-description>
                        {{currLayerName}}
                    </mat-panel-description>
                </mat-expansion-panel-header>
                <mat-radio-group class="example-radio-group" [(ngModel)]="currLayer">
                        <mat-radio-button [disabled]="!userpagelayer.layerShown" class="example-radio-button" *ngFor="let userpagelayer of userPageLayers" [value]="userpagelayer" (change)="setCurrentLayer(0,userpagelayer,true)">
                            <mat-slide-toggle class="example-margin" [checked]="userpagelayer.layerShown" (change)="toggleLayers(0,userpagelayer,userpagelayer.layerShown)">
                                {{userpagelayer.layer_admin.layerName}}
                            </mat-slide-toggle>
                        </mat-radio-button>
                    </mat-radio-group>
            </mat-expansion-panel>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Settings
                    </mat-panel-title>
                    <mat-panel-description>

                    </mat-panel-description>
                </mat-expansion-panel-header>
                Layer Settings go here.  Including:<br>
                Opacity<br>
                Default On<br> 
            </mat-expansion-panel>
            <mat-expansion-panel [disabled]="true">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Modules
                    </mat-panel-title>
                    <mat-panel-description>
                        Current Module
                    </mat-panel-description>
                </mat-expansion-panel-header>
                Modules
            </mat-expansion-panel>
        </mat-accordion>
    </div>
   
</div>