<div id="mapid"></div>
<navigator></navigator>
<marker></marker>
<!--<script src='https://rawgit.com/shramov/leaflet-plugins/master/layer/vector/KML.js'></script>-->
<script src="../../assets/KML.js"></script>
<script src="../../assets/stations.js"></script>


<div class="w3-display-topright" style="top:43px">
    <div ngbDropdown class="d-inline-block">
        <button class="btn btn-outline-primary" style="position:absolute;right:83px" id="dropdownMenu1" ngbDropdownToggle>{{currPage}}</button><!--Perhaps using ngIf, interpolate the active page name as the button text if a page is selected-->
        <div class="dropdown-menu dropdown-menu-right" style="position:absolute;top:60px" aria-labelledby="dropdownMenu1">
            <!-- Should these be checkboxes in appearance?-->
            <button *ngFor = "let userpage of userpages" (click) = "setUserPageLayers(userpage)" class="dropdown-item btn btn-primary">{{userpage.page}}</button>
        </div>
    </div>
    
    <div ngbDropdown class="d-inline-block"><!--Excluding this and wrapping both buttons in the <div ngbDropdown> tag above is how to unbind them, but it screw up the pages button-->
        <button class="btn btn-outline-primary" style="position:absolute;right:8px;top:20px" id="dropdownMenu2" ngbDropdownToggle>Layers</button>
        <div class="dropdown-menu dropdown-menu-right" style="position:absolute;top:60px" aria-labelledby="dropdownMenu2">
            <div *ngFor="let userpagelayer of userpagelayers" class="btn-group" data-toggle="buttons">
                <!-- Should these be checkboxes in appearance?-->
                <label class="btn btn-primary" (click)="toggleLayers(userpagelayers.indexOf(userpagelayer), userpagelayer.layer_admin, userpagelayer.layerShown)" [class.active]="userpagelayer.layerShown">
                    <input type="checkbox" [(ngModel)]="userpagelayer.layerON" (change)="updateUserPageLayer(userpagelayer)"> {{userpagelayer.layer_admin.layerName}}
                </label><br>
            </div>
        </div>
    </div>
</div>
                    <!--<input type="checkbox" [(ngModel)]="userpagelayer.layerON" (change)="updateUserPageLayer(userpagelayer)"> {{userpagelayer.layer_admin.layerName}}-->
