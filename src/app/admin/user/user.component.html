<div style="width:100%">
    <br>
    <div class="row" style="position:relative; left:20px">
        <div class="col-md-2">
            <div class="row">
                <div class="col-md-10 col-md-offset-1">
                    <h4>First Name</h4>
                </div>
            </div>
        </div>
        
        <div class="col-md-2">
            <h4>Last Name</h4>            
        </div>

        <div class="col-md-1">
            <div class="row">
                <div class="col-md-8">
                    <h4>Role</h4>
                </div>
            </div>
        </div>

        <div class="col-md-1">
            <div class="row">
                <div class="col-md-5 col-md-offset-7">
                    <h4>Email</h4>
                </div>
            </div>
        </div>

        <div class="col-md-2">
            <div class="row">
                <div class="col-md-2 col-md-offset-10">
                    <h4>Active</h4>
                </div>
            </div>
        </div>

        <div class="col-md-1">
            <div class="row">
                <div class="col-md-2 col-md-offset-4">
                    <h4>Admin</h4>
                </div>
            </div>
        </div>
    </div>
    
    <form style="position:relative; left:20px" class="form-inline" #e="ngForm" *ngFor="let user of users">
        <i id="btnOpenDelUser" class="fa fa-times" (click)="openConfDel(user)"></i>
        <input id="exuserfirstname" ngModel required name="exuserfirstname" class="form-control" [(ngModel)] = "user.firstName" type="text" (blur)="updateUser(user)" (change)="updateUser(user)">
        <input id="exuserlastname" ngModel required name="exuserlastname" class="form-control" [(ngModel)] = "user.lastName" type="text" (blur)="updateUser(user)" (change)="updateUser(user)">
        <select id="exuserrole" ngModel required name="exuserrole" class="form-control" [(ngModel)] = "user.roleID" #role="ngModel" type="text" (blur)="updateUser(user)" (change)="updateUser(user)">
            <option *ngFor="let role of roles" [value]="role.ID">
                {{role.role}}
            </option>
        </select>
        <input id="exuseremail" ngModel required name="exuseremail" title="{{user.email}}" class="form-control" [(ngModel)] = "user.email" type="text" (blur)="updateUser(user)" (change)="updateUser(user)">
        <input id="exuseractive" name="exuseractive" class="form-check-input" [(ngModel)] = "user.active" type="checkbox" (change)="updateUser(user)">
        <input id="exuseradministrator" name="exuseradministrator" class="form-check-input" [(ngModel)] = "user.administrator" type="checkbox" (change)="updateUser(user)">

        <div class="row" style="position:relative;width:22%;left:2%">
            <div ngbDropdown style="position:relative">
                <button id="AdminUserOptions" class="btn btn-primary" ngbDropdownToggle>Options</button>
                <div id="optDrop" class="dropdown-menu" aria-labelledby="options">
                    <button type="button" style="position:relative; left:5px" (click)="resetPassword(user.ID)" class="btn btn-secondary">Reset Password</button>
                    <button type="button" style="position:relative; left:5px" (click)="openPages(user.ID, user.firstName, user.lastName)" class="btn btn-secondary">Pages</button>
                </div>
            </div>
            
            <div ngbDropdown style="position:relative">
                <button id="AdminUserEdit" class="btn btn-primary" ngbDropdownToggle>Edit Layers</button>
                    <div id="editDrop" class="dropdown-menu" aria-labelledby="dropdownMenu3">
                        <button id="openConfig" *ngFor="let userpage of (userpages | pagefilter: (user.ID))" type="button" (click)="openPageConfig(userpage.ID, user.ID)" class="btn btn-secondary">{{userpage.page}}</button><br>
                    </div>
            </div>
        </div>
    </form>      
    <br>
    
    <div style="position:absolute; left:35px">Create New User</div><br>
    <form #f="ngForm" style="position:relative; left:20px" class="form-inline" (ngSubmit)="addUser(newuser)" autocomplete="off">
        <i class="fa fa-arrow-right" aria-hidden="true"></i>
        <input id="newuserfirstname" name="newuserfirstname" required #newuserfirstnameinput [(ngModel)] = "newuser.firstName" type="text" placeholder="First Name">
        <input id="newuserlastname" name="newuserlastname" required #newuserlastnameinput [(ngModel)] = "newuser.lastName" type="text" placeholder="Last Name">
        <select id="newuserrole" name="newuserrole" name="exuserrole" class="form-control" required #role="ngModel" [(ngModel)] = "newuser.roleID" type="text" (blur)="updateUser(user)">
            <option *ngFor="let role of roles" [value]="role.ID">
                {{role.role}}
            </option>
        </select>

        <input id="newuseremail" autocomplete="off" name="newuseremail" required #newuseremailinput [(ngModel)] = "newuser.email" type="text" placeholder="Email">
        <input id="newuseractive" name="newuseractive" #newuseractiveinput [(ngModel)] = "newuser.active" type="checkbox" placeholder="Active" checked>
        <input id="newuseradministrator" name="newuseradministrator" #newuseradministratorinput [(ngModel)] = "newuser.administrator" type="checkbox" placeholder="Administrator">
        <input id="newuserpassword" autocomplete="off" name="newuserpassword" #newuserpasswordinput [(ngModel)] = "newuser.password" type="password" placeholder="Password">
        <button id="btnSub" type="submit" [disabled]="!f.valid">Submit</button> <!--Should this also be how layers are created? Or should this be done with a modal instead? Probably should be same way on both-->
    </form> 
</div>

<ng-template ngbModalContainer></ng-template>