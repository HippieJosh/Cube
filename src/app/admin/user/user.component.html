<!-- <div style="width:100%">  
    <form style="position:relative; left:20px" class="form-inline" #e="ngForm" *ngFor="let user of users">
        <i id="btnOpenDelUser" class="fa fa-times" style="margin-right:5px" (click)="openConfDel(user)"></i>
        <input matInput id="exuserfirstname" ngModel required name="exuserfirstname" class="form-control" [(ngModel)] = "user.firstName" (blur)="updateUser(user)">
        <input matInput id="exuserlastname" ngModel required name="exuserlastname" class="form-control" [(ngModel)] = "user.lastName" type="text" (blur)="updateUser(user)">
        <select id="exuserrole" ngModel required name="exuserrole" class="form-control" [(ngModel)] = "user.roleID" #role="ngModel" type="text" (blur)="updateUser(user)">
            <option *ngFor="let role of roles" [value]="role.ID">
                {{role.role}}
            </option>
        </select>
        <input matInput id="exuseremail" ngModel required name="exuseremail" title="{{user.email}}" class="form-control" [(ngModel)] = "user.email" type="text" (blur)="updateUser(user)">
        <input type="checkbox" id="exuseractive" name="exuseractive" class="form-check-input" [(ngModel)] = "user.active" (blur)="updateUser(user)">
        <input type="checkbox" id="exuseradministrator" name="exuseradministrator" class="form-check-input" [(ngModel)] = "user.administrator" (blur)="updateUser(user)">

        <div class="row" style="position:relative;width:22%;left:2%">
            <button mat-button [matMenuTriggerFor]="menu">
                Options
            </button>
            <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="changePassword(user.ID)">
                    <h5>Change Password</h5>
                </button>
                <button mat-menu-item (click)="openPages(user.ID, user.firstName, user.lastName)">
                    <h5>Pages</h5>
                </button>
            </mat-menu>
            <button mat-button [matMenuTriggerFor]="menu2">
                Edit Layers
            </button>
            <mat-menu #menu2="matMenu">
                <button mat-menu-item id="openConfig" *ngFor="let userpage of (userPages | pagefilter: (user.ID))" (click)="getUserPageItem(userpage.ID, user.ID)">
                    <h5>{{userpage.page}}</h5>
                </button>
            </mat-menu>
        </div>
    </form>      
</div> -->
<!--<a href="https://github.com/angular/material2/issues/5982">Look at this website</a>-->
<mat-table id="userDataTable" #table [dataSource]="dataSource">
        <ng-container matColumnDef="userID">
            <mat-header-cell *matHeaderCellDef> ID </mat-header-cell>
            <mat-cell *matCellDef="let row">
              <mat-form-field floatPlaceholder="{{ row.editing ? 'float' : 'never' }}">
                  <input matInput [formControl]="row.validator.controls['ID']" [readonly]="!row.editing" [(ngModel)]="row.currentData.ID">
              </mat-form-field>
            </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="firstName">
            <mat-header-cell *matHeaderCellDef> First Name </mat-header-cell>
            <mat-cell *matCellDef="let row">
                <mat-form-field #input floatPlaceholder="{{ row.editing ? 'float' : 'never' }}">
                    <input matInput [formControl]="row.validator.controls['firstName']" [readonly]="!row.editing" [(ngModel)]="row.currentData.firstName">
                </mat-form-field>
            </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="lastName">
            <mat-header-cell *matHeaderCellDef> Last Name </mat-header-cell>
            <mat-cell *matCellDef="let row">
              <mat-form-field floatPlaceholder="{{ row.editing ? 'float' : 'never' }}">
                  <input matInput [formControl]="row.validator.controls['lastName']" [readonly]="!row.editing" [(ngModel)]="row.currentData.lastName">
              </mat-form-field>
            </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="role">
            <mat-header-cell *matHeaderCellDef> Role </mat-header-cell>
            <mat-cell *matCellDef="let row">
              <mat-form-field floatPlaceholder="{{ row.editing ? 'float' : 'never' }}">
                  <input matInput [formControl]="row.validator.controls['roleID']" [readonly]="!row.editing" [(ngModel)]="row.currentData.roleID">
              </mat-form-field>
            </mat-cell>
        </ng-container>
        
        <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef> Email </mat-header-cell>
            <mat-cell *matCellDef="let row">
              <mat-form-field floatPlaceholder="{{ row.editing ? 'float' : 'never' }}">
                  <input matInput [formControl]="row.validator.controls['email']" [readonly]="!row.editing" [(ngModel)]="row.currentData.email">
              </mat-form-field>
            </mat-cell>
        </ng-container>
        
        <ng-container matColumnDef="active">
            <mat-header-cell *matHeaderCellDef> Active </mat-header-cell>
            <mat-cell *matCellDef="let row">
              <mat-form-field floatPlaceholder="{{ row.editing ? 'float' : 'never' }}">
                   <input matInput [formControl]="row.validator.controls['active']" [readonly]="!row.editing" [(ngModel)]="row.currentData.active">
                  <!-- <mat-checkbox formControlName="userTableActive" [formControl]="row.validator.controls[active]" [(ngModel)]="row.currentData.active"></mat-checkbox> -->
              </mat-form-field>
            </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="administrator">
            <mat-header-cell *matHeaderCellDef> Administrator </mat-header-cell>
            <mat-cell *matCellDef="let row">
              <mat-form-field floatPlaceholder="{{ row.editing ? 'float' : 'never' }}">
                  <input matInput [formControl]="row.validator.controls['administrator']" [readonly]="!row.editing" [(ngModel)]="row.currentData.administrator">
              </mat-form-field>
            </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="actionsColumn">
          <mat-header-cell *matHeaderCellDef> Options </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <button *ngIf="!row.editing" mat-icon-button color="primary" focusable="false" (click)="row.startEdit()">
                  <i class="fa fa-pencil mat-icon"></i>
                </button>
            <button *ngIf="row.editing" mat-icon-button color="primary" focusable="false" (click)="row.confirmEditCreate()">
                  <i class="fa fa-check mat-icon"></i>
                </button>
            <button mat-icon-button color="primary" focusable="false" (click)="confirmDelete(row.currentData)">
                  <i class="fa fa-times mat-icon"></i>
                </button>
                <button mat-button [matMenuTriggerFor]="menu">
                        Options
                    </button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="changePassword(row.currentData.ID)">
                            <h5>Change Password</h5>
                        </button>
                        <button mat-menu-item (click)="openPages(row.currentData.ID, row.currentData.firstName, row.currentData.lastName)">
                            <h5>Pages</h5>
                        </button>
                    </mat-menu>
                <button mat-button [matMenuTriggerFor]="menu2">
                      Edit Layers
                  </button>
                  <mat-menu #menu2="matMenu" [overlapTrigger]="false">
                        <button mat-menu-item id="openConfig" *ngFor="let userpage of (userPages | pagefilter: (row.currentData.ID))" (click)="getUserPageItem(userpage.ID, row.currentData.ID)">                          
                            <h5>{{userpage.page}}</h5>
                      </button>
                  </mat-menu>
          </mat-cell>
        </ng-container>
      
        <mat-header-row *matHeaderRowDef="userColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: userColumns"></mat-row>
      </mat-table>
      

<!-- <userTable [userPages]="userPages" [userID]="userID"></userTable> -->
<button mat-button id="userCreateNew" (click)="openNewUser()">Create User</button>