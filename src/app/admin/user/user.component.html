<div style="width:100%">
    <div class="row" style="position:relative; left:20px">
        <div class="col-md-2">
            <div class="row">
                <div class="col-md-10 col-md-offset-1">
                    <h4>First Name</h4>
                </div>
            </div>
        </div>
        
        <div class="col-md-2">
            <h4>Last Name</h4>
        </div>

        <div class="col-md-1">
            <div class="row">
                <div class="col-md-6">
                    <h4>Role</h4>
                </div>
            </div>
        </div>

        <div class="col-md-1">
            <div class="row">
                <div class="col-md-5 col-md-offset-7">
                    <h4>Email</h4>
                </div>
            </div>
        </div>

        <div class="col-md-2">
            <div class="row">
                <div class="col-md-2 col-md-offset-10">
                    <h4>Active</h4>
                </div>
            </div>
        </div>

        <div class="col-md-1">
            <div class="row">
                <div class="col-md-2 col-md-offset-4">
                    <h4>Admin</h4>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <form style="position:relative; left:20px" class="form-inline" #e="ngForm" *ngFor="let user of users">
            <i (click)="deleteUser(user.ID)" class="fa fa-times" aria-hidden="true"></i>
            <input id="exuserfirstname" ngModel required name="exuserfirstname" class="form-control" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:15%" [(ngModel)] = "user.firstName" type="text" (blur)="updateUser(user)" (change)="updateUser(user)">
            <input id="exuserlastname" ngModel required name="exuserlastname" class="form-control" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:15%" [(ngModel)] = "user.lastName" type="text" (blur)="updateUser(user)" (change)="updateUser(user)">
            <select id="exuserrole" ngModel required name="exuserrole" class="form-control" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:15%" [(ngModel)] = "user.roleID" #role="ngModel" type="text" (blur)="updateUser(user)" (change)="updateUser(user)">
                <option *ngFor="let role of roles" [value]="role.ID">
                    {{role.role}}
                 </option>
             </select>
            <input id="exuseremail" ngModel required name="exuseremail" title="{{user.email}}" class="form-control" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:18%" [(ngModel)] = "user.email" type="text" (blur)="updateUser(user)" (change)="updateUser(user)">
            <input id="exuseractive" name="exuseractive" class="form-check-input" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:5%" [(ngModel)] = "user.active" type="checkbox" (change)="updateUser(user)">
            <input id="exuseradministrator" name="exuseradministrator" class="form-check-input" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:6%" [(ngModel)] = "user.administrator" type="checkbox" (change)="updateUser(user)">
            <div class="w3-display-container" style="position:relative">
                <div ngbDropdown style="position:relative; left:920px; top:35px">   
                <button id="options" class="btn-primary" style="position:absolute; height:30px; width:6%; bottom:36px; border-radius:3px" ngbDropdownToggle>Options</button>
                    <div id="optDrop" style="position:absolute; height:90px; bottom:40px; left:0px; width:19%" class="dropdown-menu dropdown-menu-right" aria-labelledby="options">
                        <button type="button" style="position:relative; left:5px; margin-bottom:5px" (click)="resetPassword(user.ID)" class="btn btn-secondary">Reset Password</button>
                        <button type="button" style="position:relative; left:5px" (click)="openPages(user.ID, user.firstName, user.lastName)" class="btn btn-secondary">Pages</button>
                    </div>
                </div>
            
            <div ngbDropdown style="position:relative; left:1000px; top:35px">
                <button class="btn btn-primary" style="position:absolute; bottom:36px; height:30px; left:0px; border:2px; border:ridge; border:black; border-radius:3px" id="dropdownMenu3" ngbDropdownToggle>Edit Layers</button>
                    <div id="editDrop" style="position:absolute;left:0px; top:0px;width:45%" class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu3">
                        <button *ngFor="let userpage of (userpages | pagefilter: (user.ID))" type="button" (click)="openPageConfig(userpage.ID, user.ID)" class="btn btn-secondary">{{userpage.page}}</button><br>
                    </div>
            </div>
            </div>
        </form>
    </div>
        <br><div style="position:absolute; left:35px">Create New User</div><br>
 <form #f="ngForm" style="position:relative; left:20px" class="form-inline" (ngSubmit)="addUser(newuser)">
     <i class="fa fa-arrow-right" aria-hidden="true"></i>
     <input id="newuserfirstname" name="newuserfirstname" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:15%; height:34px; border-radius:4px" required #newuserfirstnameinput [(ngModel)] = "newuser.firstName" type="text" placeholder="First Name">
     <input id="newuserlastname" name="newuserlastname" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:15%; height:34px; border-radius:4px" required #newuserlastnameinput [(ngModel)] = "newuser.lastName" type="text" placeholder="Last Name">
     <select id="newuserrole" name="newuserrole" name="exuserrole" class="form-control" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:15%" required #role="ngModel" [(ngModel)] = "newuser.roleID" type="text" (blur)="updateUser(user)">
        <option *ngFor="let role of roles" [value]="role.ID">
            {{role.role}}
        </option>
    </select>

    <input id="newuseremail" name="newuseremail" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:18%; height:34px; border-radius:4px" required #newuseremailinput [(ngModel)] = "newuser.email" type="text" placeholder="Email">
    <input id="newuseractive" name="newuseractive" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:5%" #newuseractiveinput [(ngModel)] = "newuser.active" type="checkbox" placeholder="Active" checked>
    <input id="newuseradministrator" name="newuseradministrator" style="border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:6%" #newuseradministratorinput [(ngModel)] = "newuser.administrator" type="checkbox" placeholder="Administrator">
    <br>
    <input id="newuserpassword" name="newuserpassword" style="position:relative; top:5px; left:570px; border-color: rgba(255,255,255,0); border:ridge; border-width:2px; width:18%; height:34px; border-radius:4px" [(ngModel)] = "newuser.password" type="password" placeholder="Password">
    <button style="position:relative; left:595px; top:5px; width:85px; height:32px; border-radius:3px" type="submit" [disabled]="!f.valid">Submit</button> <!--Should this also be how layers are created? Or should this be done with a modal instead? Probably should be same way on both-->
</form> 
</div>

<template ngbModalContainer></template>